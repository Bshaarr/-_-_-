<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Ù…Ù†ØµØ© Ù…ÙˆØ±ÙˆÙƒØ³ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© - Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap');
        
        * {
            font-family: 'Cairo', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .robot-animation {
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .notification {
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        
        .certificate-bg {
            background: linear-gradient(45deg, #f3ec78, #af4261);
        }
        
        .admin-panel {
            background: linear-gradient(135deg, #1e3a8a 0%, #7c3aed 100%);
            min-height: 100vh;
        }
        
        .admin-card {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .certificate-template {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: 8px solid #ffd700;
            position: relative;
            overflow: hidden;
        }
        
        .certificate-template::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 20px;
            right: 20px;
            bottom: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 15px;
        }
        
        .certificate-seal {
            position: absolute;
            bottom: 30px;
            right: 30px;
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, #ffd700, #ffed4e);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
        }
        
        .stats-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0.1) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
        }
        
        .stats-card:hover {
            transform: translateY(-5px);
            background: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0.15) 100%);
        }
        
        .admin-nav-btn {
            transition: all 0.3s ease;
        }
        
        .admin-nav-btn:hover {
            background: rgba(255,255,255,0.2) !important;
            color: white !important;
        }
        
        .admin-nav-btn.active {
            background: rgba(255,255,255,0.2) !important;
            color: white !important;
        }
        
        .form-input {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            color: white;
            backdrop-filter: blur(10px);
        }
        
        .form-input::placeholder {
            color: rgba(255,255,255,0.7);
        }
        
        .form-input:focus {
            background: rgba(255,255,255,0.15);
            border-color: rgba(255,255,255,0.4);
            outline: none;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(16, 185, 129, 0.3);
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            transition: all 0.3s ease;
        }
        
        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(239, 68, 68, 0.3);
        }
        
        .btn-warning {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            transition: all 0.3s ease;
        }
        
        .btn-warning:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(245, 158, 11, 0.3);
        }
        
        .modal-backdrop {
            backdrop-filter: blur(5px);
            background: rgba(0,0,0,0.5);
        }
        
        .course-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
        }
        
        .course-card:hover {
            transform: translateY(-5px);
            background: linear-gradient(135deg, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0.1) 100%);
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="notifications" class="fixed top-4 left-4 z-50 space-y-2"></div>

    <div id="loginScreen" class="min-h-screen gradient-bg flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md fade-in">
            <div class="text-center mb-8">
                <div class="robot-animation text-6xl mb-4">ğŸ¤–</div>
                <h1 class="text-3xl font-bold text-gray-800 mb-3">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…ÙˆØ±ÙˆÙƒØ³</h1>
                <p class="text-gray-600">Ù…Ù†ØµØ© ØªØ¯Ø±ÙŠØ¨ Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</p>
            </div>
            
            <form id="loginForm" class="space-y-6">
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                    <input type="text" id="studentName" required 
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                           placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„">
                </div>
                
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                    <input type="tel" id="studentPhone" required 
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                           placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ">
                </div>
                
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                    <input type="email" id="studentEmail" required 
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                           placeholder="Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
                </div>
                
                <button type="submit" 
                        class="w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-4 rounded-lg font-semibold hover:shadow-lg transition-all text-lg">
                    Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ù†ØµØ©
                </button>
            </form>

            <div class="mt-6 pt-6 border-t border-gray-200">
                <button type="button" onclick="showAdminLogin()"
                        class="w-full bg-gradient-to-r from-red-600 to-pink-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition-all">
                    <i class="fas fa-user-shield mr-2"></i>Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø¯ÙŠØ±
                </button>
            </div>
        </div>
    </div>

    <div id="adminLoginModal" class="fixed inset-0 modal-backdrop z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md">
            <div class="text-center mb-6">
                <div class="text-5xl mb-4">ğŸ›¡ï¸</div>
                <h2 class="text-2xl font-bold text-gray-800">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø¯ÙŠØ±</h2>
            </div>
            
            <form id="adminLoginForm" class="space-y-4">
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                    <input type="text" id="adminUsername" required 
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all"
                           placeholder="Bashar">
                </div>
                
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                    <input type="password" id="adminPassword" required 
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all"
                           placeholder="bbsshhaarr6405">
                </div>
                
                <div class="flex space-x-3 space-x-reverse">
                    <button type="submit" 
                            class="flex-1 bg-gradient-to-r from-red-600 to-pink-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition-all">
                        Ø¯Ø®ÙˆÙ„
                    </button>
                    <button type="button" onclick="hideAdminLogin()"
                            class="flex-1 bg-gray-500 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition-all">
                        Ø¥Ù„ØºØ§Ø¡
                    </button>
                </div>
            </form>
        </div>
    </div>

    <div id="mainWebsite" class="hidden">
        <header class="bg-white shadow-lg sticky top-0 z-40">
            <div class="px-4 py-4">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3 space-x-reverse">
                        <div class="text-3xl">ğŸ¤–</div>
                        <div>
                            <h1 class="text-xl font-bold text-gray-800">Ù…ÙˆØ±ÙˆÙƒØ³</h1>
                            <p class="text-sm text-gray-600">Ù…Ù†ØµØ© ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</p>
                        </div>
                    </div>
                    
                    <div class="flex items-center space-x-3 space-x-reverse">
                        <span class="text-sm text-gray-600">Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ <span id="welcomeName" class="font-semibold text-blue-600"></span></span>
                        <button onclick="logout()" class="text-gray-600 hover:text-red-600 p-2 transition-colors">
                            <i class="fas fa-sign-out-alt text-lg"></i>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <nav class="bg-gray-100 border-b border-gray-200">
            <div class="px-4 py-3">
                <div class="flex space-x-1 space-x-reverse overflow-x-auto">
                    <button onclick="showSection('dashboard')" class="nav-btn bg-blue-50 text-blue-600 px-6 py-3 rounded-lg font-semibold whitespace-nowrap transition-all">
                        <i class="fas fa-home mr-2"></i>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                    </button>
                    <button onclick="showSection('courses')" class="nav-btn text-gray-700 px-6 py-3 rounded-lg font-semibold whitespace-nowrap transition-all hover:bg-gray-200">
                        <i class="fas fa-book mr-2"></i>Ø§Ù„Ø¯ÙˆØ±Ø§Øª
                    </button>
                    <button onclick="showSection('quiz')" class="nav-btn text-gray-700 px-6 py-3 rounded-lg font-semibold whitespace-nowrap transition-all hover:bg-gray-200">
                        <i class="fas fa-question-circle mr-2"></i>Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
                    </button>
                    <button onclick="showSection('certificates')" class="nav-btn text-gray-700 px-6 py-3 rounded-lg font-semibold whitespace-nowrap transition-all hover:bg-gray-200">
                        <i class="fas fa-certificate mr-2"></i>Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª
                    </button>
                </div>
            </div>
        </nav>

        <section id="dashboardSection" class="py-8">
            <div class="px-4 max-w-6xl mx-auto">
                <div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-8 rounded-2xl text-center mb-8 card-hover">
                    <div class="text-5xl mb-4">ğŸ‰</div>
                    <h2 class="text-3xl font-bold mb-3">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ <span id="welcomeName2" class="text-yellow-300"></span>!</h2>
                    <p class="text-lg opacity-90 mb-6">ÙÙŠ Ù…Ù†ØµØ© Ù…ÙˆØ±ÙˆÙƒØ³ Ù„ØªØ¯Ø±ÙŠØ¨ Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</p>
                    <div class="grid grid-cols-3 gap-4 text-center">
                        <div>
                            <div class="text-2xl font-bold">12+</div>
                            <div class="text-sm opacity-80">Ø¯ÙˆØ±Ø© ØªØ¯Ø±ÙŠØ¨ÙŠØ©</div>
                        </div>
                        <div>
                            <div class="text-2xl font-bold">500+</div>
                            <div class="text-sm opacity-80">Ø·Ø§Ù„Ø¨ Ù…Ø³Ø¬Ù„</div>
                        </div>
                        <div>
                            <div class="text-2xl font-bold">95%</div>
                            <div class="text-sm opacity-80">Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­</div>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                    <button onclick="showSection('courses')" class="bg-white p-6 rounded-xl shadow-lg text-center card-hover border-l-4 border-blue-500">
                        <div class="text-4xl mb-4 text-blue-500">ğŸ“š</div>
                        <h3 class="text-xl font-bold text-gray-800 mb-2">ØªØµÙØ­ Ø§Ù„Ø¯ÙˆØ±Ø§Øª</h3>
                        <p class="text-gray-600">Ø§ÙƒØªØ´Ù Ø¯ÙˆØ±Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© ÙÙŠ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</p>
                    </button>
                    
                    <button onclick="showSection('quiz')" class="bg-white p-6 rounded-xl shadow-lg text-center card-hover border-l-4 border-green-500">
                        <div class="text-4xl mb-4 text-green-500">ğŸ§ </div>
                        <h3 class="text-xl font-bold text-gray-800 mb-2">Ø§Ø®ØªØ¨Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ</h3>
                        <p class="text-gray-600">Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªÙØ§Ø¹Ù„ÙŠØ© ÙˆÙ…ØªÙ†ÙˆØ¹Ø©</p>
                    </button>
                    
                    <button onclick="showSection('certificates')" class="bg-white p-6 rounded-xl shadow-lg text-center card-hover border-l-4 border-yellow-500">
                        <div class="text-4xl mb-4 text-yellow-500">ğŸ†</div>
                        <h3 class="text-xl font-bold text-gray-800 mb-2">Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø´Ù‡Ø§Ø¯Ø©</h3>
                        <p class="text-gray-600">Ø´Ù‡Ø§Ø¯Ø§Øª Ù…Ø¹ØªÙ…Ø¯Ø© Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§ØªÙƒ</p>
                    </button>
                </div>
            </div>
        </section>

        <section id="coursesSection" class="hidden py-8">
            <div class="px-4 max-w-6xl mx-auto">
                <div class="text-center mb-8">
                    <h2 class="text-4xl font-bold text-gray-800 mb-4">Ø§Ù„Ø¯ÙˆØ±Ø§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ©</h2>
                    <p class="text-xl text-gray-600">Ø§Ø®ØªØ± Ù…Ù† Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…ØªÙ†ÙˆØ¹Ø© Ù…Ù† Ø¯ÙˆØ±Ø§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</p>
                </div>
                
                <div id="coursesList" class="grid gap-8">
                    </div>
            </div>
        </section>

        <section id="quizSection" class="hidden py-8">
            <div class="px-4 max-w-6xl mx-auto">
                <div class="text-center mb-8">
                    <h2 class="text-4xl font-bold text-gray-800 mb-4">Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©</h2>
                    <p class="text-xl text-gray-600">Ø§Ø®ØªØ¨Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ ÙÙŠ Ù…Ø¬Ø§Ù„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</p>
                </div>
                
                <div class="grid gap-8">
                    <div class="bg-white p-8 rounded-2xl shadow-lg card-hover">
                        <div class="flex items-center mb-6">
                            <div class="text-5xl mr-6">ğŸ§ </div>
                            <div>
                                <h3 class="text-2xl font-bold text-gray-800">Ø§Ø®ØªØ¨Ø§Ø± Ø£Ø³Ø§Ø³ÙŠØ§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</h3>
                                <p class="text-gray-600 text-lg">Ø§Ø®ØªØ¨Ø§Ø± Ø´Ø§Ù…Ù„ Ø­ÙˆÙ„ Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</p>
                            </div>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="text-gray-500 space-x-4 space-x-reverse">
                                <span class="inline-flex items-center"><i class="fas fa-clock mr-2"></i>15 Ø¯Ù‚ÙŠÙ‚Ø©</span>
                                <span class="inline-flex items-center"><i class="fas fa-question-circle mr-2"></i>10 Ø£Ø³Ø¦Ù„Ø©</span>
                                <span class="inline-flex items-center"><i class="fas fa-star mr-2"></i>100 Ù†Ù‚Ø·Ø©</span>
                            </div>
                            <button class="bg-blue-500 hover:bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold transition-all">
                                Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
                            </button>
                        </div>
                    </div>
                    
                    <div class="bg-white p-8 rounded-2xl shadow-lg card-hover">
                        <div class="flex items-center mb-6">
                            <div class="text-5xl mr-6">ğŸ¤–</div>
                            <div>
                                <h3 class="text-2xl font-bold text-gray-800">Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø¢Ù„ÙŠ</h3>
                                <p class="text-gray-600 text-lg">Ø§Ø®ØªØ¨Ø§Ø± Ù…ØªÙ‚Ø¯Ù… ÙÙŠ Ù…Ø¬Ø§Ù„ Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø¢Ù„ÙŠ</p>
                            </div>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="text-gray-500 space-x-4 space-x-reverse">
                                <span class="inline-flex items-center"><i class="fas fa-clock mr-2"></i>20 Ø¯Ù‚ÙŠÙ‚Ø©</span>
                                <span class="inline-flex items-center"><i class="fas fa-question-circle mr-2"></i>15 Ø£Ø³Ø¦Ù„Ø©</span>
                                <span class="inline-flex items-center"><i class="fas fa-star mr-2"></i>150 Ù†Ù‚Ø·Ø©</span>
                            </div>
                            <button class="bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-lg font-semibold transition-all">
                                Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="certificatesSection" class="hidden py-8">
            <div class="px-4 max-w-6xl mx-auto">
                <div class="text-center mb-8">
                    <h2 class="text-4xl font-bold text-gray-800 mb-4">Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª</h2>
                    <p class="text-xl text-gray-600">Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø´Ù‡Ø§Ø¯Ø§Øª Ù…Ø¹ØªÙ…Ø¯Ø© Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§ØªÙƒ</p>
                </div>
                
                <div class="mb-8">
                    <h3 class="text-2xl font-bold text-gray-800 mb-6">Ø·Ù„Ø¨ Ø´Ù‡Ø§Ø¯Ø© Ù„Ù„Ø¯ÙˆØ±Ø§Øª Ø§Ù„Ù…Ø³Ø¬Ù„ Ø¨Ù‡Ø§</h3>
                    <div id="availableCertificates" class="grid gap-6">
                        </div>
                </div>
                
                <div class="mb-8">
                    <h3 class="text-2xl font-bold text-gray-800 mb-6">Ø´Ù‡Ø§Ø¯Ø§ØªÙŠ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©</h3>
                    <div id="userApprovedCertificates" class="grid gap-6">
                        </div>
                </div>
                
                <div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-6">Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©</h3>
                    <div id="pendingCertificatesList">
                        </div>
                </div>
            </div>
        </section>

        <footer class="bg-gray-800 text-white py-12">
            <div class="container mx-auto px-4 max-w-6xl">
                <div class="text-center mb-8">
                    <div class="text-4xl mb-4">ğŸ¤–</div>
                    <h4 class="text-2xl font-bold mb-4">Ù…Ù†ØµØ© Ù…ÙˆØ±ÙˆÙƒØ³ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</h4>
                    <p class="text-gray-400 text-lg mb-6">ØªØ¯Ø±ÙŠØ¨ Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø¨Ø£Ø³Ù„ÙˆØ¨ Ù…Ù…ØªØ¹ ÙˆØ¨Ø³ÙŠØ·</p>
                </div>
                
                <div class="grid md:grid-cols-3 gap-8 mb-8">
                    <div>
                        <h5 class="font-bold text-lg mb-4">Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©</h5>
                        <ul class="space-y-3 text-gray-400">
                            <li><a href="#" onclick="showSection('courses')" class="hover:text-white transition-colors">Ø§Ù„Ø¯ÙˆØ±Ø§Øª</a></li>
                            <li><a href="#" onclick="showSection('quiz')" class="hover:text-white transition-colors">Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</a></li>
                            <li><a href="#" onclick="showSection('certificates')" class="hover:text-white transition-colors">Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª</a></li>
                        </ul>
                    </div>
                    
                    <div>
                        <h5 class="font-bold text-lg mb-4">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h5>
                        <div class="space-y-3">
                            <a href="https://www.facebook.com/share/1GmdvSKcuU/" target="_blank" class="flex items-center text-gray-400 hover:text-white transition-colors">
                                <i class="fab fa-facebook mr-3 text-xl"></i>ÙÙŠØ³Ø¨ÙˆÙƒ
                            </a>
                            <a href="https://www.instagram.com/morox732?igsh=ajBlbW1jdHpweTdu" target="_blank" class="flex items-center text-gray-400 hover:text-white transition-colors">
                                <i class="fab fa-instagram mr-3 text-xl"></i>Ø¥Ù†Ø³ØªØºØ±Ø§Ù…
                            </a>
                            <a href="https://youtube.com/@morox732?si=IXRA6Jv8ut7L5Bvb" target="_blank" class="flex items-center text-gray-400 hover:text-white transition-colors">
                                <i class="fab fa-youtube mr-3 text-xl"></i>ÙŠÙˆØªÙŠÙˆØ¨
                            </a>
                            <a href="https://chat.whatsapp.com/FJnj4j3bMhJ15d7XhUBmgl?mode=ac_t" target="_blank" class="flex items-center text-gray-400 hover:text-white transition-colors">
                                <i class="fab fa-whatsapp mr-3 text-xl"></i>ÙˆØ§ØªØ³Ø§Ø¨
                            </a>
                        </div>
                    </div>
                    
                    <div>
                        <h5 class="font-bold text-lg mb-4">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù†ØµØ©</h5>
                        <p class="text-gray-400">Ù…Ù†ØµØ© Ù…ÙˆØ±ÙˆÙƒØ³ Ù‡ÙŠ Ù…Ù†ØµØ© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù…ØªØ®ØµØµØ© ÙÙŠ ØªØ¯Ø±ÙŠØ¨ Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù„Ù„Ø·Ù„Ø§Ø¨ ÙˆØ§Ù„Ù…Ù‡Ù†ÙŠÙŠÙ†.</p>
                    </div>
                </div>
                
                <div class="text-center pt-8 border-t border-gray-700">
                    <p class="text-gray-500">Â© 2024 Ù…Ù†ØµØ© Ù…ÙˆØ±ÙˆÙƒØ³ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</p>
                    <p class="text-gray-400 mt-2">ØªØ­Øª Ø¥Ø´Ø±Ø§Ù: Ù…. Ø¨Ø´Ø§Ø± Ø¹Ù†ÙŠØ²Ø§Ù†</p>
                </div>
            </div>
        </footer>
    </div>

    <div id="userPanel" style="display:none;">
      <h2>ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h2>
      </div>

    <div id="adminPanel" style="display:none;">
      <h2>Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¯ÙŠØ±</h2>
      </div>

    <div id="adminPanel" class="hidden admin-panel">
        <header class="bg-white/10 backdrop-blur-md border-b border-white/20 sticky top-0 z-40">
            <div class="px-6 py-4">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4 space-x-reverse">
                        <div class="text-3xl">ğŸ›¡ï¸</div>
                        <div>
                            <h1 class="text-xl font-bold text-white">Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¯ÙŠØ±</h1>
                            <p class="text-sm text-white/70">Ù…. Ø¨Ø´Ø§Ø± Ø¹Ù†ÙŠØ²Ø§Ù† - Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ù†ØµØ©</p>
                        </div>
                    </div>
                    
                    <button onclick="logoutAdmin()" class="text-white/70 hover:text-white p-3 rounded-lg transition-colors">
                        <i class="fas fa-sign-out-alt text-xl"></i>
                    </button>
                </div>
            </div>
        </header>

        <div class="px-6 py-8">
            <div class="mb-8">
                <div class="flex space-x-2 space-x-reverse overflow-x-auto pb-2">
                    <button onclick="showAdminSection('stats')" class="admin-nav-btn active px-6 py-3 rounded-lg font-semibold whitespace-nowrap transition-all">
                        <i class="fas fa-chart-bar mr-2"></i>Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                    </button>
                    <button onclick="showAdminSection('courses')" class="admin-nav-btn text-white/70 px-6 py-3 rounded-lg font-semibold whitespace-nowrap transition-all">
                        <i class="fas fa-book mr-2"></i>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¯ÙˆØ±Ø§Øª
                    </button>
                    <button onclick="showAdminSection('announcements')" class="admin-nav-btn text-white/70 px-6 py-3 rounded-lg font-semibold whitespace-nowrap transition-all">
                        <i class="fas fa-bullhorn mr-2"></i>Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª
                    </button>
                    <button onclick="showAdminSection('certificates')" class="admin-nav-btn text-white/70 px-6 py-3 rounded-lg font-semibold whitespace-nowrap transition-all">
                        <i class="fas fa-certificate mr-2"></i>Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª
                    </button>
                    <button onclick="showAdminSection('users')" class="admin-nav-btn text-white/70 px-6 py-3 rounded-lg font-semibold whitespace-nowrap transition-all">
                        <i class="fas fa-users mr-2"></i>Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
                    </button>
                </div>
            </div>

            <div id="adminStatsSection" class="admin-section">
                <div class="grid grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="stats-card rounded-xl p-6 text-white">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-white/70 text-sm mb-1">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</p>
                                <p class="text-3xl font-bold" id="totalUsersCount">0</p>
                            </div>
                            <div class="text-4xl opacity-70">ğŸ‘¥</div>
                        </div>
                    </div>
                    
                    <div class="stats-card rounded-xl p-6 text-white">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-white/70 text-sm mb-1">Ø§Ù„ØªØ³Ø¬ÙŠÙ„Ø§Øª</p>
                                <p class="text-3xl font-bold" id="totalRegistrationsCount">0</p>
                            </div>
                            <div class="text-4xl opacity-70">ğŸ“</div>
                        </div>
                    </div>
                    
                    <div class="stats-card rounded-xl p-6 text-white">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-white/70 text-sm mb-1">Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª</p>
                                <p class="text-3xl font-bold" id="pendingCertificatesCount">0</p>
                            </div>
                            <div class="text-4xl opacity-70">â³</div>
                        </div>
                    </div>
                    
                    <div class="stats-card rounded-xl p-6 text-white">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-white/70 text-sm mb-1">Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØµØ¯Ø±Ø©</p>
                                <p class="text-3xl font-bold" id="totalCertificatesCount">0</p>
                            </div>
                            <div class="text-4xl opacity-70">ğŸ†</div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="adminCoursesSection" class="admin-section hidden">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-2xl font-bold text-white">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¯ÙˆØ±Ø§Øª</h3>
                    <button onclick="showAddCourseModal()" class="btn-primary text-white px-6 py-3 rounded-lg font-semibold">
                        <i class="fas fa-plus mr-2"></i>Ø¥Ø¶Ø§ÙØ© Ø¯ÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©
                    </button>
                </div>
                
                <div id="adminCoursesList" class="grid gap-6">
                    </div>
            </div>

            <div id="adminAnnouncementsSection" class="admin-section hidden">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-2xl font-bold text-white">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</h3>
                    <button onclick="showAddAnnouncementModal()" class="btn-primary text-white px-6 py-3 rounded-lg font-semibold">
                        <i class="fas fa-plus mr-2"></i>Ø¥Ø¶Ø§ÙØ© Ø¥Ø¹Ù„Ø§Ù† Ø¬Ø¯ÙŠØ¯
                    </button>
                </div>
                
                <div id="adminAnnouncementsList" class="grid gap-6">
                    </div>
            </div>

            <div id="adminCertificatesSection" class="admin-section hidden">
                <div class="admin-card rounded-xl p-6 mb-6">
                    <h3 class="text-xl font-bold text-white mb-4">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª</h3>
                    
                    <div class="mb-6">
                        <h4 class="text-lg font-semibold text-white mb-3">Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©</h4>
                        <div id="pendingCertificatesAdmin" class="space-y-3">
                            </div>
                    </div>
                    
                    <div>
                        <h4 class="text-lg font-semibold text-white mb-3">Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©</h4>
                        <div id="approvedCertificatesAdmin" class="space-y-3">
                            </div>
                    </div>
                </div>
            </div>

            <div id="adminUsersSection" class="admin-section hidden">
                <div class="admin-card rounded-xl p-6">
                    <h3 class="text-xl font-bold text-white mb-4">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h3>
                    <div id="usersList" class="space-y-3">
                        </div>
                </div>
            </div>
        </div>
    </div>

    <div id="addCourseModal" class="fixed inset-0 modal-backdrop z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold text-gray-800">Ø¥Ø¶Ø§ÙØ© Ø¯ÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©</h2>
                <button onclick="hideAddCourseModal()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <form id="addCourseForm" class="space-y-4">
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¯ÙˆØ±Ø©</label>
                    <input type="text" id="courseTitle" required 
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                           placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¯ÙˆØ±Ø©">
                </div>
                
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">ÙˆØµÙ Ø§Ù„Ø¯ÙˆØ±Ø©</label>
                    <textarea id="courseDescription" required rows="3"
                              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                              placeholder="Ø£Ø¯Ø®Ù„ ÙˆØµÙ Ø§Ù„Ø¯ÙˆØ±Ø©"></textarea>
                </div>
                
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø¨</label>
                    <input type="text" id="courseInstructor" required 
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                           placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø¨">
                </div>
                
                <div class="grid grid-cols-3 gap-4">
                    <div>
                        <label class="block text-gray-700 font-semibold mb-2">Ø¹Ø¯Ø¯ Ø§Ù„Ø¯Ø±ÙˆØ³</label>
                        <input type="number" id="courseLessons" required min="1"
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                               placeholder="12">
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 font-semibold mb-2">Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª</label>
                        <input type="number" id="courseHours" required min="1"
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                               placeholder="8">
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 font-semibold mb-2">Ø§Ù„Ø³Ø¹Ø± (Ø±ÙŠØ§Ù„)</label>
                        <input type="number" id="coursePrice" required min="0"
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                               placeholder="299">
                    </div>
                </div>
                
                <div class="flex space-x-3 space-x-reverse pt-4">
                    <button type="submit" class="flex-1 btn-primary text-white py-3 rounded-lg font-semibold">
                        Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¯ÙˆØ±Ø©
                    </button>
                    <button type="button" onclick="hideAddCourseModal()" class="flex-1 bg-gray-500 text-white py-3 rounded-lg font-semibold">
                        Ø¥Ù„ØºØ§Ø¡
                    </button>
                </div>
            </form>
        </div>
    </div>

    <div id="addAnnouncementModal" class="fixed inset-0 modal-backdrop z-50 hidden flex items-center justify-center p-4">
        ...
<script>
    // Firebase Configuration
    const firebaseConfig = {
      apiKey: "AIzaSyBT4YJcnZZmUhKVvs7iMp5mdAeWRjixEfI",
      authDomain: "platform-fd979.firebaseapp.com",
      projectId: "platform-fd979",
      storageBucket: "platform-fd979.firebasestorage.app",
      messagingSenderId: "184754007748",
      appId: "1:184754007748:web:a849462d9cb2bdb3a6e391",
      measurementId: "G-9FB64YHKM3"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);

    const db = firebase.firestore();
    const auth = firebase.auth();

    // Global Variables
    let currentUser = null;
    let isAdmin = false;

    // Utility Functions
    function showNotification(message, type = 'info') {
      const notification = document.createElement('div');
      const colors = {
        success: 'bg-green-500',
        error: 'bg-red-500',
        warning: 'bg-yellow-500',
        info: 'bg-blue-500'
      };
      notification.className = `notification ${colors[type]} text-white px-6 py-3 rounded-lg shadow-lg max-w-sm`;
      notification.textContent = message;
      const container = document.getElementById('notifications');
      container.appendChild(notification);
      setTimeout(() => {
        notification.remove();
      }, 4000);
    }

    // Navigation Functions
    function showSection(sectionName) {
      // Hide all sections
      const sections = ['dashboardSection', 'coursesSection', 'quizSection', 'certificatesSection'];
      sections.forEach(section => {
        const element = document.getElementById(section);
        if (element) element.classList.add('hidden');
      });

      // Show selected section
      const targetSection = document.getElementById(sectionName + 'Section');
      if (targetSection) {
        targetSection.classList.remove('hidden');
      }

      // Update navigation buttons - find the clicked button
      document.querySelectorAll('.nav-btn').forEach(btn => {
        btn.classList.remove('bg-blue-50', 'text-blue-600');
        btn.classList.add('text-gray-700', 'hover:bg-gray-200');
      });

      // Find and highlight the correct button based on section name
      const buttonMap = {
        'dashboard': 0,
        'courses': 1,
        'quiz': 2,
        'certificates': 3
      };
      const buttons = document.querySelectorAll('.nav-btn');
      const activeButtonIndex = buttonMap[sectionName];
      if (buttons[activeButtonIndex]) {
        buttons[activeButtonIndex].classList.remove('text-gray-700', 'hover:bg-gray-200');
        buttons[activeButtonIndex].classList.add('bg-blue-50', 'text-blue-600');
      }

      // Load section-specific data
      if (sectionName === 'courses') {
        loadCourses();
      } else if (sectionName === 'certificates') {
        loadUserCertificates();
      }
    }

    function showAdminSection(sectionName) {
      // Hide all admin sections
      const sections = document.querySelectorAll('.admin-section');
      sections.forEach(section => section.classList.add('hidden'));

      // Show selected section
      const targetSection = document.getElementById('admin' + sectionName.charAt(0).toUpperCase() + sectionName.slice(1) + 'Section');
      if (targetSection) {
        targetSection.classList.remove('hidden');
      }

      // Update navigation buttons
      document.querySelectorAll('.admin-nav-btn').forEach(btn => {
        btn.classList.remove('active');
        btn.classList.add('text-white/70');
      });
      const targetButton = document.querySelector(`.admin-nav-btn[onclick="showAdminSection('${sectionName}')"]`);
      if (targetButton) {
        targetButton.classList.add('active');
        targetButton.classList.remove('text-white/70');
      }

      // Load section-specific data
      if (sectionName === 'stats') {
        loadAdminStats();
      } else if (sectionName === 'courses') {
        loadAdminCourses();
      } else if (sectionName === 'announcements') {
        loadAdminAnnouncements();
      } else if (sectionName === 'certificates') {
        loadAdminCertificates();
      } else if (sectionName === 'users') {
        loadAdminUsers();
      }
    }
  
    // Add Course Modal functions
    function showAddCourseModal() {
      document.getElementById('addCourseModal').classList.remove('hidden');
    }
    function hideAddCourseModal() {
      document.getElementById('addCourseModal').classList.add('hidden');
    }
  
    // Add Announcement Modal functions
    function showAddAnnouncementModal() {
      document.getElementById('addAnnouncementModal').classList.remove('hidden');
    }
    function hideAddAnnouncementModal() {
      document.getElementById('addAnnouncementModal').classList.add('hidden');
    }
  
    // Logout Functions
    function logout() {
      auth.signOut().then(() => {
        document.getElementById('mainWebsite').classList.add('hidden');
        document.getElementById('loginScreen').classList.remove('hidden');
        showNotification('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­', 'success');
      }).catch(error => {
        console.error("Logout Error:", error);
        showNotification('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬', 'error');
      });
    }
  
    function logoutAdmin() {
      auth.signOut().then(() => {
        document.getElementById('adminPanel').classList.add('hidden');
        document.getElementById('loginScreen').classList.remove('hidden');
        showNotification('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬ Ø§Ù„Ù…Ø¯ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­', 'success');
      }).catch(error => {
        console.error("Admin Logout Error:", error);
        showNotification('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬', 'error');
      });
    }
  
    // Authentication State Change Listener
    firebase.auth().onAuthStateChanged(user => {
      if (user) {
        // User is signed in
        currentUser = user;
        document.getElementById('loginScreen').classList.add('hidden');
  
        // Show main website for all users
        document.getElementById('mainWebsite').classList.remove('hidden');
        document.getElementById('adminPanel').classList.add('hidden'); // Ensure admin panel is hidden by default
  
        // Get user's name
        const displayName = user.displayName;
        if (displayName) {
          document.getElementById('welcomeName').textContent = displayName;
          document.getElementById('welcomeName2').textContent = displayName;
        }
  
        // Check for admin role
        user.getIdTokenResult()
          .then(idTokenResult => {
            if (idTokenResult.claims.role === 'manager') {
              // User is a manager, show admin panel
              document.getElementById('mainWebsite').classList.add('hidden');
              document.getElementById('adminPanel').classList.remove('hidden');
              isAdmin = true;
            } else {
              // Not a manager, hide admin panel
              document.getElementById('adminPanel').classList.add('hidden');
              isAdmin = false;
            }
            console.log('User logged in, isAdmin:', isAdmin);
          })
          .catch(err => {
            console.error('Error fetching ID token:', err);
          });
      } else {
        // User is signed out
        currentUser = null;
        isAdmin = false;
        document.getElementById('loginScreen').classList.remove('hidden');
        document.getElementById('mainWebsite').classList.add('hidden');
        document.getElementById('adminPanel').classList.add('hidden');
      }
    });
  
    // Login with Email/Password
    // This is a placeholder for your existing login logic
    const loginForm = document.getElementById('loginForm');
    loginForm.addEventListener('submit', (e) => {
      e.preventDefault();
      // Your existing logic for creating/signing in a student
      showNotification('Ø¬Ø§Ø±ÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„...', 'info');
    });
  
    // Admin Login
    const adminLoginForm = document.getElementById('adminLoginForm');
    adminLoginForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const adminUsername = document.getElementById('adminUsername').value;
      const adminPassword = document.getElementById('adminPassword').value;
  
      // This is a placeholder for your admin login logic
      // In a real app, you would use Firebase Auth with a specific admin email/password
      if (adminUsername === "Bashar" && adminPassword === "bbsshhaarr6405") {
        // Simulate successful admin login
        // You should use a proper Firebase authentication method here
        showNotification('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø¯ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­. ÙŠØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª...', 'success');
        // This part needs to be handled by your server-side logic
        // For demonstration, we'll assume a successful login leads to the admin panel
        // document.getElementById('mainWebsite').classList.add('hidden');
        // document.getElementById('adminPanel').classList.remove('hidden');
      } else {
        showNotification('Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©', 'error');
      }
    });
  
    // You might already have these functions, but I'm adding them here for a complete example.
    function showAdminLogin() {
      document.getElementById('adminLoginModal').classList.remove('hidden');
    }
  
    function hideAdminLogin() {
      document.getElementById('adminLoginModal').classList.add('hidden');
    }
  
    // Functionality for loading courses and other data
    // (This part seems to be from a previous script that wasn't included completely)
    function loadCourses() {
      console.log('Loading courses...');
      // Your code to load courses from Firestore
    }
  
    function loadUserCertificates() {
      console.log('Loading user certificates...');
      // Your code to load user certificates from Firestore
    }
  
    // Admin functions
    function loadAdminStats() {
      console.log('Loading admin stats...');
    }
    function loadAdminCourses() {
      console.log('Loading admin courses...');
    }
    function loadAdminAnnouncements() {
      console.log('Loading admin announcements...');
    }
    function loadAdminCertificates() {
      console.log('Loading admin certificates...');
    }
    function loadAdminUsers() {
      console.log('Loading admin users...');
    }
  
    // Example: Live course list for all users
    db.collection('courses').orderBy('createdAt', 'desc')
      .onSnapshot(snap => {
        const list = document.getElementById('coursesList');
        if (list) {
          list.innerHTML = '';
          snap.forEach(doc => {
            const c = doc.data();
            list.innerHTML += `<li>${c.title} â€” ${c.trainer}</li>`;
          });
        }
      });
  
    // Example: Live course list for admin
    db.collection('courses').orderBy('createdAt', 'desc')
      .onSnapshot(snap => {
        const list = document.getElementById('adminCoursesList');
        if (list) {
          list.innerHTML = '';
          snap.forEach(doc => {
            const c = doc.data();
            // Create a more detailed card for admin view
            list.innerHTML += `
              <div class="course-card rounded-xl p-4 text-white">
                <h4 class="text-xl font-bold mb-2">${c.title}</h4>
                <p class="text-white/70 text-sm mb-2">Ø§Ù„Ù…Ø¯Ø±Ø¨: ${c.trainer}</p>
                <p class="text-white/70 text-sm mb-4">Ø§Ù„Ø³Ø¹Ø±: ${c.price} Ø±ÙŠØ§Ù„</p>
              </div>
            `;
          });
        }
      });
  
    // Admin add course form submission
    const addCourseForm = document.getElementById('addCourseForm');
    if (addCourseForm) {
      addCourseForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        // Get form values
        const title = document.getElementById('courseTitle').value;
        const desc = document.getElementById('courseDescription').value;
        const trainer = document.getElementById('courseInstructor').value;
        const lessons = document.getElementById('courseLessons').value;
        const hours = document.getElementById('courseHours').value;
        const price = document.getElementById('coursePrice').value;
  
        // Add to Firestore
        try {
          await db.collection('courses').add({
            title, desc, trainer,
            lessons: Number(lessons), hours: Number(hours), price: Number(price),
            createdAt: firebase.firestore.FieldValue.serverTimestamp()
          });
          showNotification('ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¯ÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­', 'success');
          addCourseForm.reset();
          hideAddCourseModal();
        } catch (error) {
          console.error("Error adding document: ", error);
          showNotification('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¯ÙˆØ±Ø©', 'error');
        }
      });
    }
  
    // Add Announcement form submission
    const addAnnouncementForm = document.getElementById('addAnnouncementForm');
    if (addAnnouncementForm) {
      addAnnouncementForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        const title = document.getElementById('announcementTitle').value;
        const content = document.getElementById('announcementContent').value;
        const type = document.getElementById('announcementType').value;
  
        try {
          await db.collection('announcements').add({
            title, content, type,
            createdAt: firebase.firestore.FieldValue.serverTimestamp()
          });
          showNotification('ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø¨Ù†Ø¬Ø§Ø­', 'success');
          addAnnouncementForm.reset();
          hideAddAnnouncementModal();
        } catch (error) {
          console.error("Error adding announcement: ", error);
          showNotification('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†', 'error');
        }
      });
    }
  
  </script>
<script>
firebase.auth().onAuthStateChanged(user => {
  if (user) {
    // ÙƒÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙŠØ¸Ù‡Ø±ÙˆÙ† ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©
    document.getElementById('userPanel').style.display = 'block';

    // ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù…Ø¯ÙŠØ±
    user.getIdTokenResult()
      .then(idTokenResult => {
        if (idTokenResult.claims.role === 'manager') {
          document.getElementById('adminPanel').style.display = 'block';
        } else {
          document.getElementById('adminPanel').style.display = 'none';
        }
      })
      .catch(err => console.error('Error fetching token:', err));

  } else {
    // Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„
    document.getElementById('userPanel').style.display = 'none';
    document.getElementById('adminPanel').style.display = 'none';
  }
});
</script>

<div id="userPanel" style="display:none;">
  <h2>ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h2>
  </div>

<div id="adminPanel" style="display:none;">
  <h2>Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¯ÙŠØ±</h2>
  </div>
</body>
</html>
